Summary
-------
`./godelw idea gogland` generates the project files necessary to load a project in [Gogland](https://www.jetbrains.com/go/)
with "File Watchers" plugin configuration that runs `./godelw format` on modified files on save.

Tutorial start state
--------------------

* `$GOPATH/src/github.com/nmiyake/echgo` exists and is the working directory
* Project contains `godel` and `godelw`
* Project contains `main.go`

([Link](https://github.com/nmiyake/echgo/tree/9e77ec4885591f5a4fd95b550da729a004e7a04a))

Create Gogland project file
---------------------------

Gogland is a nice full-featured Go IDE with many convenient features, and gödel makes it easy to generate Gogland
project files for a project to start development on it with minimal overhead.

Run the following command to generate the IDE files:

```
➜ ./godelw idea gogland
```

This generates an `.iml` and `.ipr` file for the project. The generated `.ipr` file can be opened in Gogland to reveal
that the project has been set up properly:

![download](images/tutorial/ide_gogland.png)

We do not want to commit the Gogland files to the repository, so we will create and commit a `.gitigore` file that
ignores these files:

```
➜ echo '*.iml
*.ipr
*.iws' > .gitignore
➜ git add .gitignore
➜ git commit -m "Add .gitignore file"
[master 0c815bf] Add .gitignore file
 1 file changed, 3 insertions(+)
 create mode 100644 .gitignore
➜ git status
On branch master
nothing to commit, working directory clean
```

Tutorial end state
------------------

* `$GOPATH/src/github.com/nmiyake/echgo` exists and is the working directory
* Project contains `godel` and `godelw`
* Project contains `main.go`
* Project contains `.gitignore` that ignores IDEA files

([Link](https://github.com/nmiyake/echgo/tree/0c815bfd02711336f5ec0124377c95829667928a))

Tutorial next step
------------------

[Format Go files](https://github.com/palantir/godel/wiki/Format)

More
----

### File Watchers plugin

The project file generated by gödel configures the ["File Watchers" plugin](https://plugins.jetbrains.com/plugin/7177-file-watchers)
to run the `./godelw format` task to automatically format modified files on save. It is recommended that you install the
"File Watchers" plugin in Gogland to support this workflow. The "File Watchers" plugin is global to Gogland, so once it
is installed all projects can take advantage of it.

Verify that the "File Watchers" plugin is installed and working by doing the following:

* Open `main.go`, remove line 6 (the newline preceding `func main() {`) and save the file

If the "File Watchers" plugin is installed and the configuration generated by the `idea` task is working properly, then
the newline should automatically be re-added on save. This is because the Gogland project generated by gödel is
configured to run `./godelw format` on all modified files on save.
